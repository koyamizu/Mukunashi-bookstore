<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>椋梨書店トップ</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
		crossorigin="anonymous"></script>
</head>

<body>
	<header>
		<h1>椋梨書店</h1>
	</header>

	<div class="container">
		<p th:if="${message}" th:text="${message}" class="text-primary">メッセージ</p>
		<p th:if="${error_message}" th:text="${error_message}" class="text-danger">エラーメッセージ</p>

		<table class="table table-bordered">
			<thead>
				<tr>
					<th>書名</th>
					<th>価格</th>
					<th>出版社</th>
					<th>刊行年月日</th>
					<th>在庫数量</th>
					<th>購入冊数</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="bookStock:${bookStocks}" th:object="${bookStock}">
					<td th:text="*{book.title}"></td>
					<td th:text="*{book.price}"></td>
					<td th:text="*{book.publisher}"></td>
					<td th:text="*{book.published}"></td>
					<td th:text="*{stockNum}"></td>
					<td>
						<form method="post" th:action="@{/mukunashi-bookstore/add}">
							<input type="hidden" name="isbn" th:value="${bookStock.book.isbn}">
							<input type="number" name="num" size="3" required  class="mx-2">
							<input type="submit" value="カートに入れる">
						</form>
					</td>
				</tr>
			</tbody>
		</table>
		<a th:href="@{/mukunashi-bookstore/cart}">注文画面へ</a>
		<form th:action="@{/mukunashi-bookstore/history}" method="GET">
			<label for="order-id">注文番号：</label>
			<input type="text" id="order-id" name="order-id" required></input>
			<input type="submit" value="注文履歴を表示"></input>
		</form>
	</div>
</body>

</html>